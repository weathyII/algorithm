首先，我们对给定的图进行广度优先搜索（BFS），并计算所有顶点的距离。事实上，我们不需要具体的距离，只需要它们的奇偶性。第二部分是找出所有具有偶数距离的顶点，所有具有奇数距离的顶点，并打印出其中较小的部分。为什么这个结论总是成立呢？

首先，很明显，至少有一个部分的大小不会超过 \( \left\lfloor \frac{n}{2} \right\rfloor \)。其次，由于我们只检查距离的奇偶性，很明显，每个某种奇偶性的顶点至少与一个具有相反奇偶性的顶点相连接（因为它从某个相反奇偶性的顶点获得了这个奇偶性）。